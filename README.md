## Abstract
Pulmonary embolism (PE) is a life-threatening condition with a high mortality rate of 30%. Immediate treatment is crucial to improve treatment outcomes, but PE diagnosis often takes multiple days due to the limited availability of radiologists to analyze computed tomography pulmonary angiography (CTPA) images, which involves taking multiple X-ray images (often 100s of slices) of the chest region. Therefore, automation of diagnosis of PE can significantly improve patient outcomes. We use the RadFusion dataset to improve upon prior work to diagnose PE using the CTPA scans as well as using electronic health records. The labeling method and pre-processing of EHR data was improved, with over 50% of the features being identified as redundant. Correlation based analysis was done to select key EHR features, drastically reducing the number of features needed. A novel two stage pipeline was developed for analyzing CTPE images. This approach consists of a model to analyze a window of contiguous CTPE slices (Chunks), followed by another model to aggregate information across multiple chunks.  We also propose improvements to the sampling of chunks, further boosting accuracy. 
 The two stage pipeline for the images resulted in a 3.2% improvement in AUROC (0.95 compared to 0.918 for the PeNet model) with 2% improvement due to using a pre-trained DinoV2 small backbone, compared to a custom architecture and an additional 1.2% from improvements in aggregating information across chunks and improved sampling. Distilling the metadata features to just the top 16 most important features and using a random forest classifier resulted in the highest AUROC of 0.79 compared to the 0.76 when using all the metadata features.  Our conclusions bridge the gap in prior work (RadFusion) which indicated that EHR data was more accurate than PE data, which contradicts results from larger datasets such as INSPECT.  We also demonstrate that modern self supervised backbones trained on web scale data offer superior performance, removing the need for custom architectures. We also show that very few EHR features contribute to accuracy, reducing the need for collection of large amounts of EHR data.
